<template>
  <div class="h-full">
    <div>
      <div class="w-full h-full xl:h-screen flex justify-center items-center">
        <div
          class="flex flex-col justify-center items-center w-full lg:w-[60%]"
        >
          <div class="text-3xl mt-3 md:mt-0 font-bold">Services</div>
          <div class="flex flex-wrap justify-center gap-5 py-10">
            <div
              class="flex flex-col justify-center items-center h-52 w-52 bg-slate-300 bg-opacity-10 rounded-xl p-5"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="3em"
                height="3em"
                viewBox="0 0 20 20"
              >
                <path
                  fill="currentColor"
                  d="M2 6.5A2.5 2.5 0 0 1 4.5 4h11A2.5 2.5 0 0 1 18 6.5v7a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 2 13.5zM9.5 6h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1m3 2h-8a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1M5 11a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1z"
                />
              </svg>
              <div class="text-center">UI/UX Design</div>
              <div class="text-xs text-center text-slate-300">
                I provide comprehensive UI/UX design services to create engaging
                and user-friendly interfaces.
              </div>
            </div>
            <div
              class="flex flex-col justify-center items-center h-52 w-52 bg-slate-300 bg-opacity-10 rounded-xl p-5"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="3em"
                height="3em"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="m12.89 3l1.96.4L11.11 21l-1.96-.4zm6.7 9L16 8.41V5.58L22.42 12L16 18.41v-2.83zM1.58 12L8 5.58v2.83L4.41 12L8 15.58v2.83z"
                />
              </svg>
              <div class="text-center">Web Development</div>
              <div class="text-xs text-center text-slate-300">
                I offer full-stack web development services, using modern
                JavaScript frameworks and technologies.
              </div>
            </div>
            <div
              class="flex flex-col justify-center items-center h-52 w-52 bg-slate-300 bg-opacity-10 rounded-xl p-5"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="3em"
                height="3em"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M12 11q3.75 0 6.375-1.175T21 7t-2.625-2.825T12 3T5.625 4.175T3 7t2.625 2.825T12 11m0 2.5q1.025 0 2.563-.213t2.962-.687t2.45-1.237T21 9.5V12q0 1.1-1.025 1.863t-2.45 1.237t-2.962.688T12 16t-2.562-.213t-2.963-.687t-2.45-1.237T3 12V9.5q0 1.1 1.025 1.863t2.45 1.237t2.963.688T12 13.5m0 5q1.025 0 2.563-.213t2.962-.687t2.45-1.237T21 14.5V17q0 1.1-1.025 1.863t-2.45 1.237t-2.962.688T12 21t-2.562-.213t-2.963-.687t-2.45-1.237T3 17v-2.5q0 1.1 1.025 1.863t2.45 1.237t2.963.688T12 18.5"
                />
              </svg>
              <div class="text-center">Make it Database</div>
              <div class="text-xs text-center text-slate-300">
                I design, implement, and maintain secure and efficient
                databases.
              </div>
            </div>
            <div
              class="flex flex-col justify-center items-center h-52 w-52 bg-slate-300 bg-opacity-10 rounded-xl p-5"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="3em"
                height="3em"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M16.73 2.065H7.27a2.386 2.386 0 0 0-2.24 2.5v14.87a2.386 2.386 0 0 0 2.24 2.5h9.46a2.386 2.386 0 0 0 2.24-2.5V4.565a2.386 2.386 0 0 0-2.24-2.5m1.24 17.37a1.39 1.39 0 0 1-1.24 1.5H7.27a1.39 1.39 0 0 1-1.24-1.5V4.565a1.39 1.39 0 0 1 1.24-1.5H8.8v.51a1 1 0 0 0 1 1h4.4a1 1 0 0 0 1-1v-.51h1.53a1.39 1.39 0 0 1 1.24 1.5Z"
                />
                <path
                  fill="currentColor"
                  d="M10 18.934h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1"
                />
              </svg>
              <div class="text-center">Mobile Development</div>
              <div class="text-xs text-center text-slate-300">
                I develop mobile applications using React Native, creating
                efficient and high-quality cross-platform apps.
              </div>
            </div>
            <div
              class="flex flex-col justify-center items-center h-52 w-52 bg-slate-300 bg-opacity-10 rounded-xl p-5"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="3em"
                height="3em"
                viewBox="0 0 16 16"
              >
                <path
                  fill="currentColor"
                  d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A5 5 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A5 5 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623M4 7v4a4 4 0 0 0 3.5 3.97V7zm4.5 0v7.97A4 4 0 0 0 12 11V7zM12 6a4 4 0 0 0-1.334-2.982A3.98 3.98 0 0 0 8 2a3.98 3.98 0 0 0-2.667 1.018A4 4 0 0 0 4 6z"
                />
              </svg>
              <div class="text-center">Debugging/Adding Features</div>
              <div class="text-xs text-center text-slate-300">
                I specialize in fixing issues and adding new features to your
                projects, ensuring they meet your needs.
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="bg-slate-50 bg-opacity-70 border-l border-slate-50 shadow-2xl px-0 md:px-52"
      >
        <div class="p-5 bg-slate rounded-3xl mx-5">
          <div class="mb-5">
            <div
              class="text-center text-3xl font-semibold text-gray-950 text pb-5"
            >
              Contact me
            </div>
            <div class="text-lg font-medium text-gray-950 text">
              Get in Touch
            </div>
            <div class="text-sm text-slate-900">
              Fill out this contact form and let me know how I can assist you.
            </div>
          </div>

          <div>
            <form @submit.prevent="sendMail">
              <div class="grid gap-6 mb-6 md:grid-cols-2">
                <div>
                  <input
                    type="text"
                    v-model="mailDetails.first_name"
                    id="first_name"
                    autocomplete="current-first_name"
                    class="caret-blue-700 block p-2.5 w-full text-sm text-gray-900 bg-white border border-gray-300 rounded-lg appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder="First Name"
                    required
                  />
                </div>
                <div>
                  <input
                    type="text"
                    v-model="mailDetails.last_name"
                    id="last_name"
                    autocomplete="current-last_name"
                    class="block p-2.5 w-full caret-blue-700 text-sm text-gray-900 bg-white border border-gray-300 rounded-lg appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder="Last Name"
                    required
                  />
                </div>
              </div>
              <div class="mb-6">
                <input
                  type="email"
                  v-model="mailDetails.email"
                  id="email"
                  autocomplete="current-email"
                  class="block p-2.5 w-full caret-blue-700 text-sm text-gray-900 bg-white border border-gray-300 rounded-lg appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                  placeholder="Email address"
                  required
                />
              </div>
              <div class="mb-6">
                <textarea
                  type="text"
                  v-model="mailDetails.description"
                  id="description"
                  autocomplete="current-description"
                  class="caret-blue-700 block h-28 min-h-20 max-h-52 p-2.5 w-full text-sm text-gray-900 bg-white border border-gray-300 rounded-lg appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                  placeholder="Please specify your description here..."
                  required
                ></textarea>
              </div>
              <!-- <div class="flex items-start mb-6">
              <div class="flex items-center h-5">
                <input
                  id="remember"
                  type="checkbox"
                  value=""
                  class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800"
                  required
                />
              </div>
              <label
                for="remember"
                class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"
                >I agree with the
                <a
                  href="#"
                  class="text-blue-600 hover:underline dark:text-blue-500"
                  >terms and conditions</a
                >.</label
              >
            </div> -->
              <button
                type="submit"
                :class="{
                  'text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700':
                    !isLoading,
                  'bg-gray-400 cursor-not-allowed': isLoading,
                }"
                :disabled="isLoading"
                class="focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"
              >
                <template v-if="!isLoading"> Submit </template>
                <template v-else> Submitting... </template>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div v-if="isSuccess" class="toast toast-top toast-end">
      <div class="bg-green-500 py-2 px-4 rounded-xl">
        <span>Message sent successfully.</span>
      </div>
    </div>
  </div>
</template>
<script setup>
const mailDetails = ref({
  first_name: "",
  last_name: "",
  email: "",
  description: "",
});

const isLoading = ref(false);
const isSuccess = ref(false);

const sendMail = async () => {
  try {
    isLoading.value = true;
    const response = await fetch(
      "https://emailer.smollbites.com/ec5e14e0-4bf0-4f3a-8fbc-3f392c2073f3/send",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          fields: {
            first_name: mailDetails.value.first_name,
            last_name: mailDetails.value.last_name,
            email: mailDetails.value.email,
            description: mailDetails.value.description,
          },
        }),
      }
    );

    if (response.ok) {
      //   alert("Email sent successfully!");
      isSuccess.value = true;
      mailDetails.value = {
        first_name: "",
        last_name: "",
        email: "",
        description: "",
      };
    } else {
      alert("Failed to send email.");
    }
  } catch (error) {
    console.error("Error:", error);
    alert("An error occurred while sending the email.");
  } finally {
    isLoading.value = false;
    setTimeout(() => {
      isSuccess.value = false;
    }, 2000);
  }
};
</script>

<style></style>
